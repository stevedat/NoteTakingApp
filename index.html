<!DOCTYPE html>
<html>
<head>
  <title>Note Taker</title>
  <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbmjtWHjQBzRdqtPd3ogBlegHnAI2uPkcVvAHU2KdVpRwtBhsw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <style>
    /* ... (CSS styles from the updated style.css) ... */
        #preview-area {
            border: 1px solid #ccc;
            padding: 10px;
            margin-top: 20px;
            border-radius: 8px;

        }

        .hashtag {
            background-color: #eee;
            padding: 5px 10px;
            margin-right: 5px;
            border-radius: 5px;
            cursor: pointer; /* Make hashtags clickable */
        }
        #emoji-button {
            font-size: 20px;
            margin-left: 10px;
            border: none;
            background: none;
            cursor: pointer;
            padding: 0;

        }
  </style>
</head>
<body>

<h1>My Notes</h1>

<textarea id="new-note" placeholder="Enter your note here..."></textarea>

<button id="save-button">Save Note</button>
<button id="emoji-button">ðŸ˜€</button>
<div id="hashtags"></div>  

<button id="preview-button">Preview</button>
<button id="download-button">Download PDF</button>
<div id="preview-area" style="display:none;"></div>


<ul id="notes-list"></ul>


<script src="https://cdn.jsdelivr.net/npm/emoji-picker-element@latest/index.js"></script>
<script>
  // ... (JavaScript code from updated script.js) ...

        const previewButton = document.getElementById('preview-button');
    const previewArea = document.getElementById('preview-area');

    previewButton.addEventListener('click', () => {
      const notes = Array.from(document.querySelectorAll('.note')).map(note => note.textContent.trim());

        previewArea.innerHTML = ""; // Clear Previous content

        notes.forEach(note => {
           const noteElement = document.createElement('p')
            noteElement.classList.add('note');  //add note class for styling
            noteElement.textContent = note;
            previewArea.appendChild(noteElement)


        });
      previewArea.style.display = 'block';

    });




      // Download as PDF
      const downloadButton = document.getElementById('download-button');

        downloadButton.addEventListener('click', () => {
            const element = document.getElementById('preview-area');

            if(element.textContent){
                const opt = {
                    margin:       1,
                    filename:     'my_notes.pdf',
                    image:        { type: 'jpeg', quality: 0.98 },
                    html2canvas:  { scale: 2 }, //increase scale for better quality
                    jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };


                  // New Promise-based usage:
                  html2pdf().from(element).set(opt).save();


            }



        });

</script>

</body>
</html>
